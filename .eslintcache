[{"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\App.js":"1","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\searchReducer.js":"2","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\instrumentsReducer.js":"3","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Footer.js":"4","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\static_pages\\HomePage.js":"5","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileEdit.js":"6","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\Blocks.js":"7","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImageElement.js":"8","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\index.js":"9","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\userReducer.js":"10","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\ScrollToTop.js":"11","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\LoggedOutButtons.js":"12","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\Search.js":"13","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\SearchContent.js":"14","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseContent.js":"15","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\profileReducer.js":"16","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksRecords.js":"17","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfile.js":"18","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseDisplay.js":"19","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\SearchDisplay.js":"20","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileCreate.js":"21","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\genresReducer.js":"22","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\Content.js":"23","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksStatus.js":"24","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\auth\\EmailVerification.js":"25","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImage.js":"26","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserShortcut.js":"27","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\browseReducer.js":"28","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembersElement.js":"29","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\static_pages\\ErrorPage.js":"30","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Loader.js":"31","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembers.js":"32","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\actions\\userActions.js":"33","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\voivodeshipsReducer.js":"34","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksWithButton.js":"35","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\forms\\PersonalDataFormGroup.js":"36","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\firebaseConfig.js":"37","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\Header.js":"38"},{"size":671,"mtime":1606314095415,"results":"39","hashOfConfig":"40"},{"size":134,"mtime":1601629528389,"results":"41","hashOfConfig":"40"},{"size":144,"mtime":1602606333557,"results":"42","hashOfConfig":"40"},{"size":1015,"mtime":1606309080937,"results":"43","hashOfConfig":"40"},{"size":4229,"mtime":1606314095470,"results":"44","hashOfConfig":"40"},{"size":20268,"mtime":1606568431223,"results":"45","hashOfConfig":"40"},{"size":1122,"mtime":1606431686633,"results":"46","hashOfConfig":"40"},{"size":675,"mtime":1605200554851,"results":"47","hashOfConfig":"40"},{"size":1649,"mtime":1606314095402,"results":"48","hashOfConfig":"40"},{"size":422,"mtime":1601917792507,"results":"49","hashOfConfig":"40"},{"size":381,"mtime":1605183655562,"results":"50","hashOfConfig":"40"},{"size":735,"mtime":1601377003097,"results":"51","hashOfConfig":"40"},{"size":1373,"mtime":1605451218233,"results":"52","hashOfConfig":"40"},{"size":12372,"mtime":1606314095450,"results":"53","hashOfConfig":"40"},{"size":4062,"mtime":1606506785225,"results":"54","hashOfConfig":"40"},{"size":136,"mtime":1603797260534,"results":"55","hashOfConfig":"40"},{"size":2672,"mtime":1605203500548,"results":"56","hashOfConfig":"40"},{"size":22357,"mtime":1606595308258,"results":"57","hashOfConfig":"40"},{"size":4590,"mtime":1606494765909,"results":"58","hashOfConfig":"40"},{"size":4613,"mtime":1606494765901,"results":"59","hashOfConfig":"40"},{"size":11535,"mtime":1606562877233,"results":"60","hashOfConfig":"40"},{"size":134,"mtime":1602585688842,"results":"61","hashOfConfig":"40"},{"size":2508,"mtime":1606508869860,"results":"62","hashOfConfig":"40"},{"size":1056,"mtime":1606478209322,"results":"63","hashOfConfig":"40"},{"size":2209,"mtime":1605452706198,"results":"64","hashOfConfig":"40"},{"size":3379,"mtime":1605446144374,"results":"65","hashOfConfig":"40"},{"size":3885,"mtime":1606495276297,"results":"66","hashOfConfig":"40"},{"size":134,"mtime":1601629528380,"results":"67","hashOfConfig":"40"},{"size":4864,"mtime":1605371278108,"results":"68","hashOfConfig":"40"},{"size":640,"mtime":1606306720327,"results":"69","hashOfConfig":"40"},{"size":428,"mtime":1606309081139,"results":"70","hashOfConfig":"40"},{"size":836,"mtime":1600949288853,"results":"71","hashOfConfig":"40"},{"size":5652,"mtime":1606566437137,"results":"72","hashOfConfig":"40"},{"size":146,"mtime":1602607271797,"results":"73","hashOfConfig":"40"},{"size":1105,"mtime":1604405101501,"results":"74","hashOfConfig":"40"},{"size":20405,"mtime":1606568353699,"results":"75","hashOfConfig":"40"},{"size":618,"mtime":1601915793955,"results":"76","hashOfConfig":"40"},{"size":2553,"mtime":1606309496496,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1wce1ds",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"89"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"107"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"120"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"126"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"145"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"156"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\App.js",[],["167","168"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\searchReducer.js",[],["169","170"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\instrumentsReducer.js",[],["171","172"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Footer.js",[],["173","174"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\static_pages\\HomePage.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileEdit.js",["175"],"import React, { Component } from 'react';\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport isEmpty from \"validator/es/lib/isEmpty\";\r\nimport equals from \"validator/es/lib/equals\";\r\n\r\nimport { editUser } from \"../../store/actions/userActions\";\r\n\r\nimport PersonalDataFormGroup from \"../layout/forms/PersonalDataFormGroup\";\r\nimport ProfileDataFormGroup from \"../layout/forms/ProfileDataFormGroup\";\r\nimport Loader from \"../layout/Loader\";\r\n\r\nclass UserProfileEdit extends Component{\r\n    state = {\r\n        isLoaded: false,\r\n\r\n        login: (this.props.user && this.props.user.login) || '',\r\n        email: (this.props.auth && this.props.auth.email) || '',\r\n\r\n        actualPassword: '',\r\n        newPassword: '',\r\n        newPasswordRep: '',\r\n        isNewPasswordSet: false,\r\n\r\n        name: (this.props.user && this.props.user.name) || '',\r\n        voivodeship: (this.props.user && this.props.user.voivodeshipId &&\r\n            {\r\n                id: this.props.user.voivodeshipId,\r\n                name: this.props.voivodeships[this.props.user.voivodeshipId].name\r\n            }) || '',\r\n        city: (this.props.user && this.props.user.city) || '',\r\n\r\n        genres: (this.props.user && this.props.genres && this.props.user.genresId.map( genreId => {\r\n            return {\r\n                id: genreId,\r\n                name: this.props.genres[genreId].name\r\n            }})) || [],\r\n\r\n        instruments: (this.props.user && this.props.user.isArtist && this.props.instruments && this.props.user.instrumentsId.map( instrumentId => {\r\n            return {\r\n                id: instrumentId,\r\n                name: this.props.instruments[instrumentId].name\r\n            }})) || [],\r\n\r\n        members: (this.props.user && !this.props.user.isArtist && this.props.users && this.props.user.members.map(member => {\r\n            return member.userId\r\n                ? { name: member.name, user: this.props.users[member.userId] }\r\n                    // ? { name: member.name, user: this.props.users.find(u => u.id === member.userId) }\r\n                : { name: member.name }})) || [],\r\n        newMembers: [],\r\n\r\n        status: (this.props.user && this.props.statusFiltered && this.props.instruments && this.props.user.status.map( stat => {\r\n            return (\r\n                stat.instrumentId\r\n                    ? { ...this.props.statusFiltered[stat.statusId], id: stat.statusId, instrument: {id: stat.instrumentId, name: this.props.instruments[stat.instrumentId].name}}\r\n                    : { ...this.props.statusFiltered[stat.statusId], id: stat.statusId }\r\n                )})) || [],\r\n\r\n        profilePhotoSrcPrev: this.props.user && this.props.user.imageUrl,\r\n        profilePhotoSrc: this.props.user && this.props.user.imageUrl,\r\n        profilePhoto: '',\r\n\r\n        // profileBackgroundSrcPrev: this.props.profile && this.props.profile.backgroundImageUrl,\r\n        // profileBackgroundSrc: this.props.profile && this.props.profile.backgroundImageUrl,\r\n        // profileBackground: '',\r\n\r\n        facebookLink: (this.props.profile && this.props.profile.facebookLink) || \"\",\r\n        youtubeLink: (this.props.profile && this.props.profile.facebookLink) || \"\",\r\n        instagramLink: (this.props.profile && this.props.profile.facebookLink) || \"\",\r\n        soundcloudLink: (this.props.profile && this.props.profile.facebookLink) || \"\",\r\n        websiteLink: (this.props.profile && this.props.profile.facebookLink) || \"\",\r\n\r\n        description: (this.props.profile && this.props.profile.description) || \"\",\r\n\r\n        recordingsSrc: (this.props.profile && this.props.profile.recordings) || [],\r\n        recordingsSrcNew: [],\r\n        recordingsNew: [],\r\n        recordingsDeleted: [],\r\n\r\n        gallerySrc: (this.props.profile && this.props.profile.imageGallery) || [],\r\n        gallerySrcNew: [],\r\n        galleryNew: [],\r\n        galleryDeleted: [],\r\n\r\n        videoLink: (this.props.profile && this.props.profile.videoLink) || \"\",\r\n\r\n        errors: {}\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, prevState) {\r\n        if (!prevState.isLoaded) {\r\n            let isLoaded = false;\r\n            if (props.auth && props.user && props.genres && props.instruments && props.users && props.statusFiltered) isLoaded = true;\r\n\r\n            return {\r\n                ...prevState,\r\n\r\n                login: (props.user && props.user.login) || '',\r\n                email: (props.auth && props.auth.email) || '',\r\n                name: (props.user && props.user.name) || '',\r\n                voivodeship: (props.user && props.voivodeships && props.user.voivodeshipId &&\r\n                    {\r\n                        id: props.user.voivodeshipId,\r\n                        name: props.voivodeships[props.user.voivodeshipId].name\r\n                    }) || '',\r\n                city: (props.user && props.user.city) || '',\r\n\r\n                profilePhotoSrcPrev: props.user && props.user.imageUrl,\r\n                profilePhotoSrc: props.user && (prevState.profilePhotoSrc && prevState.profilePhotoSrc !== props.user.imageUrl\r\n                    ? prevState.profilePhotoSrc : props.user.imageUrl),\r\n\r\n                genres: (props.user && props.genres && props.user.genresId.map( genreId => {\r\n                    return {\r\n                        id: genreId,\r\n                        name: props.genres[genreId].name\r\n                    }})) || [],\r\n\r\n                instruments: (props.user && props.user.isArtist && props.instruments && props.user.instrumentsId.map( instrumentId => {\r\n                    return {\r\n                        id: instrumentId,\r\n                        name: props.instruments[instrumentId].name\r\n                    }})) || [],\r\n\r\n                members: (props.user && !props.user.isArtist && props.users && props.user.members.map(member => {\r\n                    return member.userId\r\n                        ? { name: member.name, user: props.users[member.userId] }\r\n                        : { name: member.name }})) || [],\r\n\r\n                status: (props.user && props.statusFiltered && props.instruments && props.user.status.map( stat => {\r\n                    return (\r\n                        stat.instrumentId\r\n                            ? { ...props.statusFiltered[stat.statusId], id: stat.statusId, instrument: {id: stat.instrumentId, name: props.instruments[stat.instrumentId].name}}\r\n                            : { ...props.statusFiltered[stat.statusId], id: stat.statusId }\r\n                    )})) || [],\r\n\r\n                facebookLink: (props.profile && props.profile.facebookLink) || \"\",\r\n                youtubeLink: (props.profile && props.profile.facebookLink) || \"\",\r\n                instagramLink: (props.profile && props.profile.facebookLink) || \"\",\r\n                soundcloudLink: (props.profile && props.profile.facebookLink) || \"\",\r\n                websiteLink: (props.profile && props.profile.facebookLink) || \"\",\r\n\r\n                description: (props.profile && props.profile.description) || \"\",\r\n                recordingsSrc: (props.profile && props.profile.recordings) || [],\r\n                gallerySrc: (props.profile && props.profile.imageGallery) || [],\r\n\r\n                videoLink: (props.profile && props.profile.videoLink) || \"\",\r\n\r\n                isLoaded: isLoaded\r\n            }\r\n        } else {\r\n            return {...prevState};\r\n        }\r\n    }\r\n\r\n    evaluateFields = (slugs) => {\r\n        const { errors } = this.state;\r\n        let newErrors = {};\r\n\r\n        slugs.forEach(slug => {\r\n            const value = this.state[slug];\r\n            let errorMessage = \"\";\r\n\r\n            if (value === \"\" || value === undefined) errorMessage = \"* Wymagane pole\";\r\n            else {\r\n                switch (slug) {\r\n                    case \"login\":\r\n                        if (value.search(/^[a-z0-9-._]+$/) === -1) errorMessage = \"* Login może zawierać małe litery, cyfry, oraz znaki: - . _\";\r\n                        else {\r\n                            if (this.props.usersOrdered.some(user => user.login === value && user.id !== this.props.auth.uid)) errorMessage = \"* Login jest już zajęty\";\r\n                            else errorMessage = \"\";\r\n                        }\r\n                        break;\r\n                    case \"email\":\r\n                        if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) errorMessage = \"* Nieprawidłowy adres email\"\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    case \"password\":\r\n                    case \"newPassword\":\r\n                        if (value.length < 6) errorMessage = \"* Hasło musi posiadać conajmniej 6 znaków\";\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    case \"passwordRep\":\r\n                        if (!equals(value, this.state.password)) errorMessage = \"* Hasła muszą być takie same\"\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    case \"newPasswordRep\":\r\n                        if (!equals(value, this.state.newPassword)) errorMessage = \"* Hasła muszą być takie same\"\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            newErrors[slug] = errorMessage;\r\n        })\r\n\r\n        this.setState({\r\n            errors: {\r\n                ...errors,\r\n                ...newErrors\r\n            }\r\n        })\r\n\r\n        return !Object.keys(newErrors).some((key) => newErrors[key])\r\n    }\r\n\r\n    handleUpdate = (slug, value) => {\r\n        this.setState({ [slug]: value });\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { auth, profile } = this.props;\r\n        const { email, newPassword, isNewPasswordSet,\r\n            login, name, voivodeship, city, genres, instruments, members, newMembers, status, isArtist,\r\n            profilePhoto, profilePhotoSrcPrev, profilePhotoSrc,\r\n            facebookLink, youtubeLink, instagramLink, soundcloudLink, websiteLink,\r\n            description,\r\n            gallerySrc, galleryNew, galleryDeleted,\r\n            recordingsSrc, recordingsNew, recordingsDeleted,\r\n            videoLink,\r\n            errors\r\n        } = this.state;\r\n\r\n        console.log(this.state);\r\n\r\n        if (this.evaluateFields([\"login\", \"email\", \"name\", \"voivodeship\", \"city\"])) {\r\n            if (!Object.keys(errors).some((key) => errors[key])) {\r\n\r\n                let editedAuth = {\r\n                    id: auth.uid,\r\n                    email: email,\r\n                    password: isNewPasswordSet ? newPassword : \"\",\r\n                    hasProfile: profile !== undefined\r\n                }\r\n\r\n                let editedUser = {\r\n                    login: login,\r\n                    email: email,\r\n                    name: name,\r\n                    voivodeshipId: voivodeship.id,\r\n                    city: city,\r\n                    genresId: genres && genres.map(genre => genre.id),\r\n                    instrumentsId: instruments && instruments.map(instrument => instrument.id),\r\n                    members: members && members.map(member => (member.user ? {\r\n                        name: member.name,\r\n                        userId: member.user.id\r\n                    } : {name: member.name})),\r\n                    status: status && status.map(stat => (stat.withInstrument ? {\r\n                        instrumentId: stat.instrument.id,\r\n                        statusId: stat.id\r\n                    } : {statusId: stat.id})),\r\n                    isArtist: isArtist\r\n                }\r\n\r\n                let userPhoto = {\r\n                    image: profilePhoto,\r\n                    imageUrlDeleted: profilePhotoSrcPrev !== profilePhotoSrc ? profilePhotoSrcPrev : \"\",\r\n                    defaultImage: profilePhotoSrc === undefined && profilePhoto === undefined\r\n                }\r\n\r\n                let editedProfile = {\r\n                    id: profile && profile.id,\r\n\r\n                    facebookLink: facebookLink,\r\n                    youtubeLink: youtubeLink,\r\n                    instagramLink: instagramLink,\r\n                    soundcloudLink: soundcloudLink,\r\n                    websiteLink: websiteLink,\r\n\r\n                    description: description,\r\n\r\n                    recordingsSrc: recordingsSrc,\r\n                    recordingsNew: recordingsNew,\r\n                    recordingsDeleted: recordingsDeleted,\r\n\r\n                    gallerySrc: gallerySrc,\r\n                    galleryNew: galleryNew,\r\n                    galleryDeleted: galleryDeleted,\r\n\r\n                    videoLink: videoLink\r\n                }\r\n\r\n                this.clean(editedAuth);\r\n                this.clean(editedUser);\r\n                this.clean(userPhoto);\r\n\r\n                console.log(editedAuth);\r\n                console.log(editedUser);\r\n                console.log(userPhoto);\r\n                console.log(editedProfile);\r\n\r\n                this.props.editUser(editedAuth, editedUser, userPhoto, newMembers, editedProfile);\r\n\r\n                this.props.history.push(\"/profil/\" + auth.uid);\r\n            }\r\n        }\r\n\r\n        this.scrollToTop();\r\n    }\r\n\r\n    clean = (obj) => {\r\n        let propNames = Object.getOwnPropertyNames(obj);\r\n        for (let i = 0; i < propNames.length; i++) {\r\n            let propName = propNames[i];\r\n            if (!obj[propName] || obj[propName] === Array(0)) {\r\n                delete obj[propName];\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { auth, user, profile,\r\n            users, usersOrdered, usersArtists,\r\n            statusFiltered, statusFilteredOrdered,\r\n            voivodeships, voivodeshipsOrdered,\r\n            genres, genresOrdered,\r\n            instruments, instrumentsOrdered } = this.props;\r\n        const { id } = this.props.match.params;\r\n\r\n        console.log(this.props);\r\n\r\n        if (this.props.auth.uid && !this.props.auth.emailVerified) return <Redirect to={\"/potwierdzanie-adresu-email\"}/>\r\n        if (!auth.uid || auth.uid !== id) return <Redirect to={\"/logowanie\"} />\r\n        if (!auth || !user || !users || !usersOrdered || !usersArtists\r\n            || !statusFiltered || !statusFilteredOrdered || !voivodeships || !voivodeshipsOrdered\r\n            || !genres || !genresOrdered || !instruments || !instrumentsOrdered) return <Loader/>;\r\n\r\n\r\n\r\n        let userType;\r\n        const type1 = {\r\n            type: \"artysta\",\r\n            typeSlug: \"artist\",\r\n            title: \"Artysta\"\r\n        }\r\n        const type2 = {\r\n            type: \"zespol\",\r\n            typeSlug: \"band\",\r\n            title: \"Zespół\"\r\n        }\r\n\r\n        if (user.isArtist) userType = type1;\r\n        else userType = type2;\r\n\r\n        return (\r\n            <div id={\"signup-artist\"} className={\"page-content\"}>\r\n                <Container>\r\n                    <Row className={\"section section-card d-flex flex-column align-items-center\"}>\r\n                        <Col className={\"background-light p-3 p-sm-5 my-2 my-sm-5 text-center\"} xs={11}>\r\n                            <h3 className={\"mb-2\"}>Edytowanie Profilu</h3>\r\n                            <h6 className={\"mb-5\"}>{userType.title}</h6>\r\n\r\n                            <Form id={\"personal-data-form\"} onSubmit={this.handleSubmit} style={{width: \"100%\"}} className={\"d-flex flex-column\"}>\r\n                                <Container>\r\n                                    <Row className={\"d-flex justify-content-center\"}>\r\n                                        <Col xs={11} lg={5} className={\"mr-2\"}>\r\n                                            <h5 className={\"mt-2 mb-5\"}>Podstawowe dane</h5>\r\n                                            <PersonalDataFormGroup\r\n                                                type={userType.typeSlug}\r\n                                                operation={\"edit\"}\r\n                                                data={{\r\n                                                    auth: auth,\r\n                                                    user: user,\r\n                                                    usersOrdered: usersOrdered,\r\n                                                    usersArtists: usersArtists,\r\n                                                    statusFilteredOrdered: statusFilteredOrdered,\r\n                                                    voivodeships: voivodeships,\r\n                                                    voivodeshipsOrdered: voivodeshipsOrdered,\r\n                                                    genresOrdered: genresOrdered,\r\n                                                    instrumentsOrdered: instrumentsOrdered,\r\n                                                }}\r\n                                                evaluateFields={this.evaluateFields}\r\n                                                handleUpdate={this.handleUpdate}\r\n                                                state={this.state}/>\r\n                                        </Col>\r\n                                        <Col xs={11} lg={5} className={\"ml-2\"}>\r\n                                            <h5 className={\"mt-2 mb-5\"}>Dodatkowe dane</h5>\r\n                                            <ProfileDataFormGroup user={user} profile={profile} handleUpdate={this.handleUpdate} state={this.state}/>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row className=\"justify-content-center\">\r\n                                        <Col xs={10} lg={6} xl={5}>\r\n                                            <Button block type=\"submit\" variant=\"outline-accent\" size=\"sm\" className={\"mb-3\"}>Zapisz</Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Container>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        user: state.firestore.data.users && state.firestore.data.users[ownProps.match.params.id],\r\n        profile: state.firestore.ordered.profiles && state.firestore.ordered.profiles[0],\r\n\r\n        users: state.firestore.data.users,\r\n        usersOrdered: state.firestore.ordered.users,\r\n        usersArtists: state.firestore.ordered.users && state.firestore.ordered.users.filter(user => user.isArtist),\r\n\r\n        statusFiltered: state.firestore.data.statusFiltered,\r\n        statusFilteredOrdered: state.firestore.ordered.statusFiltered,\r\n\r\n        voivodeships: state.firestore.data.voivodeships,\r\n        voivodeshipsOrdered: state.firestore.ordered.voivodeships,\r\n\r\n        genres: state.firestore.data.genres,\r\n        genresOrdered: state.firestore.ordered.genres,\r\n\r\n        instruments: state.firestore.data.instruments,\r\n        instrumentsOrdered: state.firestore.ordered.instruments\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        editUser: (auth, user, userPhoto, newMembers, profile) => dispatch(editUser(auth, user, userPhoto, newMembers, profile))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    firestoreConnect((props) => [\r\n        {collection: \"users\"},\r\n        {collection: \"profiles\", where: [\"userId\", \"==\", props.match.params.id]},\r\n        {collection: \"status\", where: [\"type\", \"in\", [props.user && props.user.isArtist ? \"artist\" : \"band\", \"all\"]], storeAs: \"statusFiltered\"},\r\n        {collection: \"voivodeships\", orderBy: \"name\"},\r\n        {collection: \"genres\", orderBy: \"name\"},\r\n        {collection: \"instruments\", orderBy: \"name\"}\r\n    ]),\r\n    withRouter\r\n)(UserProfileEdit);","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\Blocks.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImageElement.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\index.js",[],["176","177"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\userReducer.js",[],["178","179"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\ScrollToTop.js",[],["180","181"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\LoggedOutButtons.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\Search.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\SearchContent.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseContent.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\profileReducer.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksRecords.js",[],["182","183"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfile.js",[],["184","185"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseDisplay.js",[],["186","187"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\SearchDisplay.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileCreate.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\genresReducer.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\Content.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksStatus.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\auth\\EmailVerification.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImage.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserShortcut.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\browseReducer.js",[],["188","189"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembersElement.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\static_pages\\ErrorPage.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Loader.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembers.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\actions\\userActions.js",[],["190","191"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\voivodeshipsReducer.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksWithButton.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\forms\\PersonalDataFormGroup.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\firebaseConfig.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\Header.js",[],{"ruleId":"192","replacedBy":"193"},{"ruleId":"194","replacedBy":"195"},{"ruleId":"192","replacedBy":"196"},{"ruleId":"194","replacedBy":"197"},{"ruleId":"192","replacedBy":"198"},{"ruleId":"194","replacedBy":"199"},{"ruleId":"192","replacedBy":"200"},{"ruleId":"194","replacedBy":"201"},{"ruleId":"202","severity":1,"message":"203","line":7,"column":8,"nodeType":"204","messageId":"205","endLine":7,"endColumn":15},{"ruleId":"192","replacedBy":"206"},{"ruleId":"194","replacedBy":"207"},{"ruleId":"192","replacedBy":"208"},{"ruleId":"194","replacedBy":"209"},{"ruleId":"192","replacedBy":"210"},{"ruleId":"194","replacedBy":"211"},{"ruleId":"192","replacedBy":"212"},{"ruleId":"194","replacedBy":"213"},{"ruleId":"192","replacedBy":"214"},{"ruleId":"194","replacedBy":"215"},{"ruleId":"192","replacedBy":"216"},{"ruleId":"194","replacedBy":"217"},{"ruleId":"192","replacedBy":"218"},{"ruleId":"194","replacedBy":"219"},{"ruleId":"192","replacedBy":"220"},{"ruleId":"194","replacedBy":"221"},"no-native-reassign",["222"],"no-negated-in-lhs",["223"],["222"],["223"],["222"],["223"],["222"],["223"],"no-unused-vars","'isEmpty' is defined but never used.","Identifier","unusedVar",["222"],["223"],["222"],["223"],["222"],["223"],["222"],["223"],["222"],["223"],["222"],["223"],["222"],["223"],["222"],["223"],"no-global-assign","no-unsafe-negation"]},{"ruleId":"199","replacedBy":"216"},{"ruleId":"197","replacedBy":"217"},{"ruleId":"199","replacedBy":"218"},{"ruleId":"197","replacedBy":"219"},{"ruleId":"199","replacedBy":"220"},{"ruleId":"197","replacedBy":"221"},{"ruleId":"199","replacedBy":"222"},{"ruleId":"197","replacedBy":"223"},{"ruleId":"199","replacedBy":"224"},"no-native-reassign",["225"],"no-negated-in-lhs",["226"],["225"],["226"],["225"],["226"],["225"],["226"],"no-unused-vars","'isEmpty' is defined but never used.","Identifier","unusedVar",["225"],["226"],["225"],["226"],["225"],["226"],["225"],["226"],["225"],["226"],["225"],["226"],["225"],["226"],"no-global-assign","no-unsafe-negation"]