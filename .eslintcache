[{"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\App.js":"1","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\voivodeshipsReducer.js":"2","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\instrumentsReducer.js":"3","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Footer.js":"4","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembersElement.js":"5","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\profileReducer.js":"6","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImage.js":"7","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\browseReducer.js":"8","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImageElement.js":"9","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\searchReducer.js":"10","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\inputs\\DropdownInput.js":"11","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\userReducer.js":"12","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\Header.js":"13","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\firebaseConfig.js":"14","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\genresReducer.js":"15","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\rootReducer.js":"16","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembers.js":"17","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Loader.js":"18","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\Content.js":"19","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\authReducer.js":"20","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\ScrollToTop.js":"21","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\serviceWorker.js":"22","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\index.js":"23","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksRecords.js":"24","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\SearchDisplay.js":"25","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseDisplay.js":"26","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksStatus.js":"27","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\Search.js":"28","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\auth\\Login.js":"29","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\LoggedOutButtons.js":"30","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseContent.js":"31","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\actions\\userActions.js":"32","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\Blocks.js":"33","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksStatusElement.js":"34","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\auth\\EmailVerification.js":"35","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksWithButton.js":"36","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\forms\\ProfileDataFormGroup.js":"37","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserShortcut.js":"38","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\static_pages\\HomePage.js":"39","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\forms\\PersonalDataFormGroup.js":"40","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileEdit.js":"41","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfile.js":"42","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileCreate.js":"43"},{"size":671,"mtime":1606314095415,"results":"44","hashOfConfig":"45"},{"size":146,"mtime":1602607271797,"results":"46","hashOfConfig":"45"},{"size":144,"mtime":1602606333557,"results":"47","hashOfConfig":"45"},{"size":1015,"mtime":1606309080937,"results":"48","hashOfConfig":"45"},{"size":5511,"mtime":1607086107368,"results":"49","hashOfConfig":"45"},{"size":136,"mtime":1603797260534,"results":"50","hashOfConfig":"45"},{"size":3379,"mtime":1605446144374,"results":"51","hashOfConfig":"45"},{"size":134,"mtime":1601629528380,"results":"52","hashOfConfig":"45"},{"size":675,"mtime":1605200554851,"results":"53","hashOfConfig":"45"},{"size":134,"mtime":1601629528389,"results":"54","hashOfConfig":"45"},{"size":2548,"mtime":1606488749666,"results":"55","hashOfConfig":"45"},{"size":422,"mtime":1601917792507,"results":"56","hashOfConfig":"45"},{"size":2553,"mtime":1606309496496,"results":"57","hashOfConfig":"45"},{"size":618,"mtime":1601915793955,"results":"58","hashOfConfig":"45"},{"size":134,"mtime":1602585688842,"results":"59","hashOfConfig":"45"},{"size":916,"mtime":1603281173450,"results":"60","hashOfConfig":"45"},{"size":836,"mtime":1600949288853,"results":"61","hashOfConfig":"45"},{"size":428,"mtime":1606309081139,"results":"62","hashOfConfig":"45"},{"size":2508,"mtime":1606508869860,"results":"63","hashOfConfig":"45"},{"size":2770,"mtime":1605474541898,"results":"64","hashOfConfig":"45"},{"size":381,"mtime":1605183655562,"results":"65","hashOfConfig":"45"},{"size":417,"mtime":1606692804762,"results":"66","hashOfConfig":"45"},{"size":1731,"mtime":1606727813039,"results":"67","hashOfConfig":"45"},{"size":2688,"mtime":1606666247618,"results":"68","hashOfConfig":"45"},{"size":4613,"mtime":1606494765901,"results":"69","hashOfConfig":"45"},{"size":4590,"mtime":1606494765909,"results":"70","hashOfConfig":"45"},{"size":1056,"mtime":1606478209322,"results":"71","hashOfConfig":"45"},{"size":1373,"mtime":1605451218233,"results":"72","hashOfConfig":"45"},{"size":5959,"mtime":1605465166757,"results":"73","hashOfConfig":"45"},{"size":735,"mtime":1601377003097,"results":"74","hashOfConfig":"45"},{"size":4062,"mtime":1606506785225,"results":"75","hashOfConfig":"45"},{"size":5872,"mtime":1606998975849,"results":"76","hashOfConfig":"45"},{"size":1122,"mtime":1606431686633,"results":"77","hashOfConfig":"45"},{"size":1863,"mtime":1606478238502,"results":"78","hashOfConfig":"45"},{"size":2209,"mtime":1605452706198,"results":"79","hashOfConfig":"45"},{"size":1105,"mtime":1604405101501,"results":"80","hashOfConfig":"45"},{"size":14560,"mtime":1605368307158,"results":"81","hashOfConfig":"45"},{"size":3885,"mtime":1606495276297,"results":"82","hashOfConfig":"45"},{"size":4317,"mtime":1606761471980,"results":"83","hashOfConfig":"45"},{"size":23982,"mtime":1607086233444,"results":"84","hashOfConfig":"45"},{"size":15730,"mtime":1607003453064,"results":"85","hashOfConfig":"45"},{"size":25274,"mtime":1606999289864,"results":"86","hashOfConfig":"45"},{"size":11556,"mtime":1606941289575,"results":"87","hashOfConfig":"45"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},"1wce1ds",{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"128"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"138"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"141"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"181"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186","usedDeprecatedRules":"98"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\App.js",[],["191","192"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\voivodeshipsReducer.js",[],["193","194"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\instrumentsReducer.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Footer.js",[],["195","196"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembersElement.js",["197"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\profileReducer.js",[],["198","199"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImage.js",[],["200","201"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\browseReducer.js",[],["202","203"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksImageElement.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\searchReducer.js",[],["204","205"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\inputs\\DropdownInput.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\userReducer.js",[],["206","207"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\Header.js",[],["208","209"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\firebaseConfig.js",[],["210","211"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\genresReducer.js",[],["212","213"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\rootReducer.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksMembers.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\Loader.js",[],["214","215"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\Content.js",[],["216","217"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\reducers\\authReducer.js",[],["218","219"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\ScrollToTop.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\serviceWorker.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\index.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksRecords.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\SearchDisplay.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseDisplay.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksStatus.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\search\\Search.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\auth\\Login.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\header\\LoggedOutButtons.js",[],["220","221"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\browse\\BrowseContent.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\store\\actions\\userActions.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\Blocks.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksStatusElement.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\auth\\EmailVerification.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\displays\\BlocksWithButton.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\forms\\ProfileDataFormGroup.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserShortcut.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\static_pages\\HomePage.js",[],["222","223"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\layout\\forms\\PersonalDataFormGroup.js",[],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileEdit.js",["224"],"import React, { Component } from 'react';\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport equals from \"validator/es/lib/equals\";\r\n\r\nimport { editUser } from \"../../store/actions/userActions\";\r\n\r\nimport PersonalDataFormGroup from \"../layout/forms/PersonalDataFormGroup\";\r\nimport ProfileDataFormGroup from \"../layout/forms/ProfileDataFormGroup\";\r\nimport Loader from \"../layout/Loader\";\r\n\r\nclass UserProfileEdit extends Component{\r\n    state = {\r\n        isLoaded: false,\r\n\r\n        login: (this.props.user && this.props.user.login) || '',\r\n        email: (this.props.auth && this.props.auth.email) || '',\r\n\r\n        actualPassword: '',\r\n        newPassword: '',\r\n        newPasswordRep: '',\r\n        isNewPasswordSet: false,\r\n\r\n        name: (this.props.user && this.props.user.name) || '',\r\n        voivodeship: (this.props.user && this.props.user.voivodeshipId &&\r\n            {\r\n                id: this.props.user.voivodeshipId,\r\n                name: this.props.voivodeships[this.props.user.voivodeshipId].name\r\n            }) || '',\r\n        city: (this.props.user && this.props.user.city) || '',\r\n\r\n        genres: (this.props.user && this.props.genres && this.props.user.genresId.map( genreId => {\r\n            return {\r\n                id: genreId,\r\n                name: this.props.genres[genreId].name\r\n            }})) || [],\r\n\r\n        instruments: (this.props.user && this.props.user.isArtist && this.props.instruments && this.props.user.instrumentsId.map( instrumentId => {\r\n            return {\r\n                id: instrumentId,\r\n                name: this.props.instruments[instrumentId].name\r\n            }})) || [],\r\n\r\n        members: (this.props.user && !this.props.user.isArtist && this.props.usersOrdered && this.props.user.members.map(member => {\r\n            return member.userId\r\n                ? { name: member.name, user: this.props.usersOrdered.find((user) => user.id === member.userId)}\r\n                : { name: member.name }})) || [],\r\n        newMembers: [],\r\n        deletedMembers: [],\r\n\r\n        bands: (this.props.user && this.props.user.isArtist && this.props.usersOrdered && this.props.user.bandsId && this.props.user.bandsId.map(bandId => {\r\n            return this.props.usersOrdered.find( elem => elem.id === bandId)\r\n        })) || [],\r\n        deletedBands: [],\r\n\r\n        status: (this.props.user && this.props.statusFiltered && this.props.instruments && this.props.user.status.map( stat => {\r\n            return (\r\n                stat.instrumentId\r\n                    ? { ...this.props.statusFiltered[stat.statusId], id: stat.statusId, instrument: {id: stat.instrumentId, name: this.props.instruments[stat.instrumentId].name}}\r\n                    : { ...this.props.statusFiltered[stat.statusId], id: stat.statusId }\r\n                )})) || [],\r\n\r\n        profilePhotoSrcPrev: this.props.user && this.props.user.imageUrl,\r\n        profilePhotoSrc: this.props.user && this.props.user.imageUrl,\r\n        profilePhoto: '',\r\n\r\n        facebookLink: (this.props.profile && this.props.profile.facebookLink) || \"\",\r\n        youtubeLink: (this.props.profile && this.props.profile.youtubeLink) || \"\",\r\n        instagramLink: (this.props.profile && this.props.profile.instagramLink) || \"\",\r\n        soundcloudLink: (this.props.profile && this.props.profile.soundcloudLink) || \"\",\r\n        websiteLink: (this.props.profile && this.props.profile.websiteLink) || \"\",\r\n\r\n        description: (this.props.profile && this.props.profile.description) || \"\",\r\n\r\n        recordingsSrc: (this.props.profile && this.props.profile.recordings) || [],\r\n        recordingsSrcNew: [],\r\n        recordingsNew: [],\r\n        recordingsDeleted: [],\r\n\r\n        gallerySrc: (this.props.profile && this.props.profile.imageGallery) || [],\r\n        gallerySrcNew: [],\r\n        galleryNew: [],\r\n        galleryDeleted: [],\r\n\r\n        videoLink: (this.props.profile && this.props.profile.videoLink) || \"\",\r\n\r\n        errors: {}\r\n    }\r\n\r\n    evaluateFields = (slugs) => {\r\n        const { errors } = this.state;\r\n        let newErrors = {};\r\n\r\n        slugs.forEach(slug => {\r\n            const value = this.state[slug];\r\n            let errorMessage = \"\";\r\n\r\n            if (value === \"\" || value === undefined) errorMessage = \"* Wymagane pole\";\r\n            else {\r\n                switch (slug) {\r\n                    case \"login\":\r\n                        if (value.search(/^[a-z0-9-._]+$/) === -1) errorMessage = \"* Login może zawierać małe litery, cyfry, oraz znaki: - . _\";\r\n                        else {\r\n                            if (this.props.usersOrdered.some(user => user.login === value && user.id !== this.props.auth.uid)) errorMessage = \"* Login jest już zajęty\";\r\n                            else errorMessage = \"\";\r\n                        }\r\n                        break;\r\n                    case \"email\":\r\n                        if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) errorMessage = \"* Nieprawidłowy adres email\"\r\n                        else {\r\n                            if (this.props.usersOrdered.some(user => user.email === value && user.id !== this.props.auth.uid)) errorMessage = \"* Istnieje już konto utworzone na podany adres e-mail\";\r\n                            else errorMessage = \"\";\r\n                        }\r\n                        break;\r\n                    case \"password\":\r\n                    case \"newPassword\":\r\n                        if (value.length < 6) errorMessage = \"* Hasło musi posiadać conajmniej 6 znaków\";\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    case \"passwordRep\":\r\n                        if (!equals(value, this.state.password)) errorMessage = \"* Hasła muszą być takie same\"\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    case \"newPasswordRep\":\r\n                        if (!equals(value, this.state.newPassword)) errorMessage = \"* Hasła muszą być takie same\"\r\n                        else errorMessage = \"\";\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            newErrors[slug] = errorMessage;\r\n        })\r\n\r\n        this.setState({\r\n            errors: {\r\n                ...errors,\r\n                ...newErrors\r\n            }\r\n        })\r\n\r\n        return !Object.keys(newErrors).some((key) => newErrors[key])\r\n    }\r\n\r\n    handleUpdate = (slug, value) => {\r\n        this.setState({ [slug]: value });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { auth, profile } = this.props;\r\n        const { email, newPassword, isNewPasswordSet, login, name, voivodeship, city, genres, instruments, members,\r\n            newMembers, deletedMembers, bands, deletedBands, status, isArtist, profilePhoto, profilePhotoSrcPrev, profilePhotoSrc,\r\n            facebookLink, youtubeLink, instagramLink, soundcloudLink, websiteLink, description, gallerySrc, galleryNew,\r\n            galleryDeleted, recordingsSrc, recordingsNew, recordingsDeleted, videoLink, errors } = this.state;\r\n\r\n        if (this.evaluateFields([\"login\", \"email\", \"name\", \"voivodeship\", \"city\"])) {\r\n            if (!Object.keys(errors).some((key) => errors[key])) {\r\n\r\n                let editedAuth = {\r\n                    id: auth.uid,\r\n                    email: email,\r\n                    password: isNewPasswordSet ? newPassword : \"\",\r\n                    hasProfile: profile !== undefined\r\n                }\r\n\r\n                let editedUser = {\r\n                    login: login,\r\n                    email: email,\r\n                    name: name,\r\n                    voivodeshipId: voivodeship.id,\r\n                    city: city,\r\n                    genresId: genres && genres.map(genre => genre.id),\r\n                    instrumentsId: instruments && instruments.map(instrument => instrument.id),\r\n                    members: members && members.map(member => (member.user ? {\r\n                            name: member.name,\r\n                            userId: member.user.id\r\n                        } : {name: member.name})),\r\n                    bandsId: bands && bands.map(band => band.id),\r\n                    status: status && status.map(stat => (stat.withInstrument ? {\r\n                            instrumentId: stat.instrument.id,\r\n                            statusId: stat.id\r\n                        } : {statusId: stat.id})),\r\n                    isArtist: isArtist\r\n                }\r\n\r\n                let userPhoto = {\r\n                    image: profilePhoto,\r\n                    imageUrlDeleted: profilePhotoSrcPrev !== profilePhotoSrc ? profilePhotoSrcPrev : \"\",\r\n                    defaultImage: profilePhotoSrc === undefined && profilePhoto === undefined\r\n                }\r\n\r\n                let editedProfile = {\r\n                    id: profile && profile.id,\r\n                    facebookLink: facebookLink,\r\n                    youtubeLink: youtubeLink,\r\n                    instagramLink: instagramLink,\r\n                    soundcloudLink: soundcloudLink,\r\n                    websiteLink: websiteLink,\r\n                    description: description,\r\n                    recordingsSrc: recordingsSrc,\r\n                    recordingsNew: recordingsNew,\r\n                    recordingsDeleted: recordingsDeleted,\r\n                    gallerySrc: gallerySrc,\r\n                    galleryNew: galleryNew,\r\n                    galleryDeleted: galleryDeleted,\r\n                    videoLink: videoLink\r\n                }\r\n\r\n                let updatedDeletedBands = deletedBands.map((band) => {\r\n                    let members = band.members;\r\n                    let updatedMembers = [];\r\n                    console.log(members);\r\n\r\n                    Object.keys(members).forEach((key) => {\r\n                        if (members[key].userId){\r\n                            if (members[key].userId !== auth.uid){\r\n                                updatedMembers.push(members[key]);\r\n                            }\r\n                        } else updatedMembers.push(members[key]);\r\n                    })\r\n\r\n                    return {\r\n                        id: band.id,\r\n                        updatedMembers: updatedMembers\r\n                    }\r\n                });\r\n\r\n                this.clean(editedAuth);\r\n                this.clean(editedUser);\r\n                this.clean(userPhoto);\r\n\r\n                console.log(editedAuth);\r\n                console.log(editedUser);\r\n                console.log(userPhoto);\r\n                console.log(editedProfile);\r\n\r\n                this.props.editUser(editedAuth, editedUser, userPhoto, newMembers, deletedMembers, updatedDeletedBands, editedProfile);\r\n                this.props.closeModal();\r\n            }\r\n        }\r\n        this.props.scrollToTop();\r\n    }\r\n\r\n    clean = (obj) => {\r\n        let propNames = Object.getOwnPropertyNames(obj);\r\n        for (let i = 0; i < propNames.length; i++) {\r\n            let propName = propNames[i];\r\n            if (!obj[propName] || obj[propName] === Array(0)) {\r\n                delete obj[propName];\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    render() {\r\n        const { auth, user, profile, users, usersOrdered, usersArtists, statusFiltered, statusFilteredOrdered,\r\n            voivodeships, voivodeshipsOrdered, genres, genresOrdered, instruments, instrumentsOrdered } = this.props;\r\n\r\n        if (!auth || !user || !users || !usersOrdered || !usersArtists\r\n            || !statusFiltered || !statusFilteredOrdered || !voivodeships || !voivodeshipsOrdered\r\n            || !genres || !genresOrdered || !instruments || !instrumentsOrdered) return <Loader/>;\r\n\r\n        let userType;\r\n        const type1 = { type: \"artysta\", typeSlug: \"artist\", title: \"Artysta\" };\r\n        const type2 = { type: \"zespol\", typeSlug: \"band\", title: \"Zespół\" };\r\n\r\n        if (user.isArtist) userType = type1;\r\n        else userType = type2;\r\n\r\n        return (\r\n            <div id={\"signup-artist\"}>\r\n                <Container>\r\n                    <Row className={\"section section-card d-flex flex-column align-items-center\"}>\r\n                        <Col className={\"background-light text-center\"} xs={12}>\r\n                            <h3 className={\"mb-2\"}>Edytowanie Profilu</h3>\r\n                            <h6 className={\"mb-5\"}>{userType.title}</h6>\r\n\r\n                            <Form id={\"personal-data-form\"} onSubmit={this.handleSubmit} style={{width: \"100%\"}} className={\"d-flex flex-column\"}>\r\n                                <Container>\r\n                                    <Row className={\"d-flex justify-content-center\"}>\r\n                                        <Col xs={12} lg={5} className={\"mr-lg-4 p-0 px-sm-2\"}>\r\n                                            <h5 className={\"mt-2 mb-5\"}>Podstawowe dane</h5>\r\n                                            <PersonalDataFormGroup\r\n                                                type={userType.typeSlug}\r\n                                                operation={\"edit\"}\r\n                                                data={{\r\n                                                    auth: auth,\r\n                                                    user: user,\r\n                                                    usersOrdered: usersOrdered,\r\n                                                    usersArtists: usersArtists,\r\n                                                    statusFilteredOrdered: statusFilteredOrdered,\r\n                                                    voivodeships: voivodeships,\r\n                                                    voivodeshipsOrdered: voivodeshipsOrdered,\r\n                                                    genresOrdered: genresOrdered,\r\n                                                    instrumentsOrdered: instrumentsOrdered,\r\n                                                }}\r\n                                                evaluateFields={this.evaluateFields}\r\n                                                handleUpdate={this.handleUpdate}\r\n                                                state={this.state}/>\r\n                                        </Col>\r\n                                        <Col xs={12} lg={5} className={\"ml-lg-4 p-0 px-sm-2\"}>\r\n                                            <h5 className={\"mt-2 mb-5\"}>Dodatkowe dane</h5>\r\n                                            <ProfileDataFormGroup user={user} profile={profile} handleUpdate={this.handleUpdate} state={this.state}/>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row className=\"justify-content-center\">\r\n                                        <Col xs={10} lg={6} xl={5}>\r\n                                            <Button block type=\"submit\" variant=\"outline-accent\" size=\"sm\" className={\"mb-3\"}>Zapisz</Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Container>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        editUser: (auth, user, userPhoto, newMembers, deletedMembers, updatedDeletedBands, profile) =>\r\n            dispatch(editUser(auth, user, userPhoto, newMembers, deletedMembers, updatedDeletedBands, profile))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(UserProfileEdit);","C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfile.js",["225"],"C:\\Users\\gnied\\Documents\\GitHub\\zGrani\\src\\views\\users\\UserProfileCreate.js",[],{"ruleId":"226","replacedBy":"227"},{"ruleId":"228","replacedBy":"229"},{"ruleId":"226","replacedBy":"230"},{"ruleId":"228","replacedBy":"231"},{"ruleId":"226","replacedBy":"232"},{"ruleId":"228","replacedBy":"233"},{"ruleId":"234","severity":1,"message":"235","line":3,"column":20,"nodeType":"236","messageId":"237","endLine":3,"endColumn":37},{"ruleId":"226","replacedBy":"238"},{"ruleId":"228","replacedBy":"239"},{"ruleId":"226","replacedBy":"240"},{"ruleId":"228","replacedBy":"241"},{"ruleId":"226","replacedBy":"242"},{"ruleId":"228","replacedBy":"243"},{"ruleId":"226","replacedBy":"244"},{"ruleId":"228","replacedBy":"245"},{"ruleId":"226","replacedBy":"246"},{"ruleId":"228","replacedBy":"247"},{"ruleId":"226","replacedBy":"248"},{"ruleId":"228","replacedBy":"249"},{"ruleId":"226","replacedBy":"250"},{"ruleId":"228","replacedBy":"251"},{"ruleId":"226","replacedBy":"252"},{"ruleId":"228","replacedBy":"253"},{"ruleId":"226","replacedBy":"254"},{"ruleId":"228","replacedBy":"255"},{"ruleId":"226","replacedBy":"256"},{"ruleId":"228","replacedBy":"257"},{"ruleId":"226","replacedBy":"258"},{"ruleId":"228","replacedBy":"259"},{"ruleId":"226","replacedBy":"260"},{"ruleId":"228","replacedBy":"261"},{"ruleId":"226","replacedBy":"262"},{"ruleId":"228","replacedBy":"263"},{"ruleId":"234","severity":1,"message":"264","line":3,"column":10,"nodeType":"236","messageId":"237","endLine":3,"endColumn":17},{"ruleId":"234","severity":1,"message":"265","line":2,"column":10,"nodeType":"236","messageId":"237","endLine":2,"endColumn":14},"no-native-reassign",["266"],"no-negated-in-lhs",["267"],["266"],["267"],["266"],["267"],"no-unused-vars","'ExclamationCircle' is defined but never used.","Identifier","unusedVar",["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],["266"],["267"],"'compose' is defined but never used.","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]